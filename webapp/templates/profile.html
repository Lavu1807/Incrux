{% extends "base.html" %}

{% block title %}Profile - News-Flash{% endblock %}

{% block content %}
<div class="card">
    <h2 style="color: #2d3748; margin-bottom: 2rem; font-weight: 600;">Your Profile</h2>
    
    <div style="margin-bottom: 1.5rem;">
        <h3>Username</h3>
        <p style="font-size: 1.2rem; color: #666;">{{ current_user.username }}</p>
    </div>
    
    <div style="margin-bottom: 1.5rem;">
        <h3>Email</h3>
        <p style="font-size: 1.2rem; color: #666;">{{ current_user.email }}</p>
    </div>
    
    <div style="margin-bottom: 1.5rem;">
        <h3>Member Since</h3>
        <p style="font-size: 1.2rem; color: #666;">{{ current_user.created_at.strftime('%B %d, %Y') }}</p>
    </div>
    
    <div style="margin-bottom: 1.5rem;">
        <h3>Active Topics</h3>
        <p style="font-size: 1.2rem; color: #666;">{{ current_user.preferences|length }} topics</p>
    </div>
</div>

<div class="card" style="margin-top: 2rem;">
    <h2 style="color: #2d3748; margin-bottom: 1.5rem; font-weight: 600;">Email Preferences</h2>
    
    <form method="POST" action="{{ url_for('profile') }}">
        <div class="form-group">
            <label for="preferred_email_time">Preferred Email Time</label>
            <input type="time" id="preferred_email_time" name="preferred_email_time" 
                   value="{{ current_user.preferred_email_time }}" required>
            <small style="color: #6c757d; display: block; margin-top: 0.25rem;">
                Daily news summary will be sent at this time
            </small>
        </div>
        
        <div class="form-group" style="display: flex; align-items: center; gap: 0.5rem;">
            <input type="checkbox" id="email_enabled" name="email_enabled" 
                   {% if current_user.email_enabled %}checked{% endif %} style="width: auto;">
            <label for="email_enabled" style="margin-bottom: 0; font-weight: normal;">
                Enable daily email summaries
            </label>
        </div>
        
        <button type="submit" class="btn btn-primary">Save Preferences</button>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary" style="margin-left: 1rem;">Back to Dashboard</a>
    </form>
</div>
{% endblock %}
